<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>AI Politics Podcast ‚Äî Neural Net Neutrality</title>
  <meta name="description" content="Listen to AI-generated news podcasts covering the latest in AI and politics." />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="./css/styles.css">
  <link rel="stylesheet" href="./css/podcast.css">
</head>

<body>
  <header class="site-header">
    <div class="container header-inner">
      <div class="brand">
        <img src="./assets/logo.svg" alt="Neural Net Neutrality logo" class="logo">
        <span class="brand-name">Neural Net Neutrality</span>
      </div>
      <nav class="nav">
        <a href="./index.html">Home</a>
        <a href="./battle.html">Battle!</a>
        <a href="./ratings.html">Ratings</a>
        <a href="./podcast-v2.html" class="active">Podcast</a>
      </nav>
    </div>
  </header>

  <main>
    <!-- Hero Section -->
    <section class="podcast-hero">
      <div class="container">
        <div class="hero-content">
          <h1 class="podcast-title">üéôÔ∏è AI Politics Daily</h1>
          <p class="podcast-subtitle">Your daily AI-generated news podcast covering the latest in artificial intelligence and politics</p>
          <button id="generateBtn" class="btn primary large">
            <span class="btn-text">Generate Today's Episode</span>
            <span class="btn-loader hidden">
              <span class="spinner"></span>
              Generating...
            </span>
          </button>
          <p class="generate-note">Powered by ElevenLabs AI voices and GPT-5-mini</p>
        </div>
      </div>
    </section>

    <!-- Loading State -->
    <section id="loadingSection" class="loading-section hidden">
      <div class="container">
        <div class="loading-card">
          <div class="loading-spinner"></div>
          <h3>Generating your podcast episode...</h3>
          <p class="loading-steps">
            <span id="step1" class="step">üì∞ Fetching latest articles...</span>
            <span id="step2" class="step">‚úçÔ∏è Writing news script...</span>
            <span id="step3" class="step">üéôÔ∏è Generating audio...</span>
            <span id="step4" class="step">‚òÅÔ∏è Uploading to cloud...</span>
          </p>
          <p class="loading-time">This usually takes 30-60 seconds</p>
        </div>
      </div>
    </section>

    <!-- Error State -->
    <section id="errorSection" class="error-section hidden">
      <div class="container">
        <div class="error-card">
          <h3>‚ùå Error Generating Podcast</h3>
          <p id="errorMessage"></p>
          <button id="retryBtn" class="btn secondary">Try Again</button>
        </div>
      </div>
    </section>

    <!-- Player Section -->
    <section id="playerSection" class="player-section hidden">
      <div class="container">
        <div class="podcast-card">
          <!-- Episode Info -->
          <div class="episode-info">
            <h2 class="episode-title" id="episodeTitle">Today's Episode</h2>
            <p class="episode-date" id="episodeDate"></p>
            <p class="episode-meta">
              <span id="episodeDuration">0:00</span> ‚Ä¢
              <span id="episodeArticleCount">5 articles</span>
            </p>
          </div>

          <!-- Audio Player -->
          <div class="audio-player">
            <!-- Hidden HTML5 audio element -->
            <audio id="audioElement" preload="metadata"></audio>

            <!-- Play/Pause Button -->
            <button id="playPauseBtn" class="play-pause-btn" aria-label="Play">
              <svg class="play-icon" viewBox="0 0 24 24" fill="currentColor">
                <path d="M8 5v14l11-7z"/>
              </svg>
              <svg class="pause-icon hidden" viewBox="0 0 24 24" fill="currentColor">
                <path d="M6 4h4v16H6V4zm8 0h4v16h-4V4z"/>
              </svg>
            </button>

            <!-- Progress Bar -->
            <div class="progress-container">
              <div class="time-labels">
                <span id="currentTime" class="current-time">0:00</span>
                <span id="totalTime" class="total-time">0:00</span>
              </div>
              <div class="progress-bar-wrapper">
                <input type="range" id="progressBar" class="progress-bar" min="0" max="100" value="0" step="0.1" aria-label="Seek">
                <div class="progress-fill" id="progressFill"></div>
              </div>
            </div>

            <!-- Controls Row -->
            <div class="controls-row">
              <!-- Skip Backward -->
              <button id="skipBackBtn" class="control-btn" aria-label="Skip backward 10 seconds" title="Skip backward 10s">
                <svg viewBox="0 0 24 24" fill="currentColor">
                  <path d="M11.99 5V1l-5 5 5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6h-2c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z"/>
                  <text x="12" y="15" text-anchor="middle" font-size="8" font-weight="bold" fill="currentColor">10</text>
                </svg>
              </button>

              <!-- Volume Control -->
              <div class="volume-control">
                <label for="volumeSlider" class="volume-label">
                  <svg class="volume-icon" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02z"/>
                  </svg>
                </label>
                <input type="range" id="volumeSlider" class="volume-slider" min="0" max="100" value="80" aria-label="Volume">
                <span id="volumeValue" class="volume-value">80%</span>
              </div>

              <!-- Playback Speed -->
              <div class="speed-control">
                <label for="speedSelect" class="speed-label">Speed</label>
                <select id="speedSelect" class="speed-select" aria-label="Playback speed">
                  <option value="0.5">0.5x</option>
                  <option value="0.75">0.75x</option>
                  <option value="1" selected>1x</option>
                  <option value="1.25">1.25x</option>
                  <option value="1.5">1.5x</option>
                  <option value="2">2x</option>
                </select>
              </div>

              <!-- Skip Forward -->
              <button id="skipForwardBtn" class="control-btn" aria-label="Skip forward 10 seconds" title="Skip forward 10s">
                <svg viewBox="0 0 24 24" fill="currentColor">
                  <path d="M12 5V1l5 5-5 5V7c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6h2c0 4.42-3.58 8-8 8s-8-3.58-8-8 3.58-8 8-8z"/>
                  <text x="12" y="15" text-anchor="middle" font-size="8" font-weight="bold" fill="currentColor">10</text>
                </svg>
              </button>

              <!-- Download Button -->
              <button id="downloadBtn" class="control-btn download-btn" aria-label="Download episode" title="Download MP3">
                <svg viewBox="0 0 24 24" fill="currentColor">
                  <path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"/>
                </svg>
                Download
              </button>
            </div>
          </div>

          <!-- Transcript Section -->
          <div class="transcript-section">
            <button id="toggleTranscript" class="toggle-btn">
              <span>Show Full Transcript</span>
              <svg class="chevron-icon" viewBox="0 0 24 24" fill="currentColor">
                <path d="M7 10l5 5 5-5z"/>
              </svg>
            </button>
            <div id="transcriptContent" class="transcript-content hidden">
              <p id="transcriptText"></p>
            </div>
          </div>

          <!-- Sources Section -->
          <div class="sources-section">
            <h3>üì∞ Sources</h3>
            <div id="sourcesList" class="sources-list"></div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container footer-inner">
      <p>¬© 2025 Neural Net Neutrality ‚Äî Built for transparency in AI. Data & code open-sourced under an MIT license.</p>
    </div>
  </footer>

  <script src="./js/config.js"></script>
  <script src="./js/podcast.js" defer></script>
</body>
</html>
